# C 언어 기초(문자&문자열)

## 버퍼(Buffer)

* 문자열을 처리할 때 버퍼의 개념이 많이 사용된다.
* 버퍼(Buffer)란 임시적으로 특정한 데이터를 저장하기 위한 목적으로 사용된다.
* C 프로그램은 기본적으로 사용자가 의도하지 않아도 자동으로 버퍼를 이용해 입출력을 처리한다.



```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main() {
    int a;
    char c;
    scanf("%d", &a);
    printf("%d\n",a);
    int temp;
    //한 자씩 받아서 파일의 끝이거나 개행 문자를 만나면 입력을 멈추므로 항상 입력 버퍼를 비운다
    while((temp=getchar()) != EOF && temp!='\n') { }
    scanf("%c", &c);
    printf("%c\n", c);
    system("pause")
    return 0;
}

// 버퍼를 비우지 않으면 a의 값을 입력하고 엔터를 치게되면 엔터 또한 문자로 인식하여 프로그램을 제대로 실행할 수 없음.
```



* C언어에서의 문자는 내부적으로 아스키 코드 구조를 따른다
* C언어에서 문자 입출력 내부에는 버퍼가 존재한다.



## 문자열

* 문자열은 말 그대로 문자들의 배열
* 문자열은 컴퓨터 메모리 구조상에서 마지막에 널(NULL) 값을 포함한다.
* 널(NULL) 값은 문자열의 끝을 알리는 목적으로 사용된다.
* printf() 함수를 실행하면 컴퓨터는 내부적으로 NULL을 만날 때 까지 출력한다.



### 문자열과 포인터

* 문자열 형태로 포인터를 사용하면 포인터에 특정한 문자열의 주소를 넣게 된다 
* 다음  코드는 "Hello World" 문자열을 읽기 전용으로 메로리 공간에 넣은 뒤에 그 위치를 처리한다.
* 이러한 문자열을 '문자열 리터럴'이라고  말한다. 이는 컴파일러가 알아서 메모리 주소를 결정한다.

```C
#include <stdio.h>

int main(void) {    
    char *a ="Hello World";
    printf("%s\n",a);
    system("pause");
    return 0;
}
```



* 포인터로 문자열을 선언했다고 하더라도 기존의 배열처럼 처리할 수 있다. (문자 하나씩 출력 가능)



### 입출력 함수

* scanf() 함수는 공백을 만날 때까지 입력 받지만 gets()함수는 공백까지 포함하여 한 줄을 입력 받는다.
* gets() 함수는 버퍼의 크기를 벗어나도 입력을 받아버린다
* C11 표준부터는 버퍼의 크기를 철저히 지키는 gets_s() 함수가 추가되었다. 

```c
#define _CRT_SECURE_NO_WARNINGS
#include <stdio.h>

int main(void) { 
    char a[100];
    gets_s(a, sizeof(a)); // 배열의 크기를 초과하는 문자열을 입력하면 프로그램이 종료된다. 정해진 만큼만 입력받는다. 범위를 넘으면 그 즉시 런타임 오류가 발생. 
    printf("%s\n", a);
    system("pause");
    return 0;
}
```



### 문자열 처리 함수

* C언어에서의 문자열 함수는 <string.h> 라이브러리에 포함되어 있다.

* `strlen()` 
  * 문자열의 길이를 반환한다

* `strcmp()` 
  * 문자열 1이 문자열 2보다 사전적으로 앞에 있으면 -1, 뒤에 있으면 1을 반환

* `strcpy()` 
  * 문자열을 복사

* `strcat()` 
  * 문자열 1에 문자열 2를 더한다. // 문자열 1의 배열의 크기를 맞게 설정해주는 것이 필요함.

* `strstr()` 
  *  문자열 1에 문자열 2가 어떻게 포함되어 있는지 반환 , 긴 문자열(1)에서 짧은 문자열(2)을 찾아 그 위치를 반환한다. 
  * 짧은 문자열을 찾은 주소 값 자체를 반환하므로 단순히 출력하도록 하면, 찾은 이후 모든 문자열이 반환된다.